<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <title>DDW - Homework 1</title>
                <meta charset="utf-8" />
                <meta http-equiv="X-UA-Compatible" content="IE=edge" />
                <meta name="viewport" content="width=device-width, initial-scale=1" />

                <link href="http:///netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" />
                <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

                <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
                <script src="http://code.highcharts.com/highcharts.js"></script>
                <script src="jquery.highchartTable.js" type="text/javascript"></script>
            </f:facet>

        </h:head>

        <h:body>
            <div class="container">
                <div class="jumbotron">
                    <h3 class="text-center">MI-DDW - Facebook Feed Keywords Analyzer</h3>
                    <br />
                    
                    <h:form>

                        <div class="form-group">
                            <label for="accesstoken">Facebook AccessToken:</label>
                            <h:inputText value="#{Application.accesstoken}" class="form-control" id="accesstoken"></h:inputText>
                        </div>
                        <div class="form-group">
                            <label for="pageid">Facebook PageID:</label>
                            <h:inputText value="#{Application.pageID}" class="form-control" id="pageid"></h:inputText>
                        </div>
                        <div class="form-group">
                            <label for="limit">Post Limit:</label>
                            <h:inputText value="#{Application.limit}" class="form-control" id="limit"></h:inputText>
                        </div>
                        <h:commandButton action="#{Application.process()}" value="Send" class="btn btn-primary btn-lg"></h:commandButton>

                    </h:form>
                </div>

                <h2>Country</h2>
                <c:if test="#{Application.countries.size() > 0}">
                    <table class="graph  table table-striped" data-graph-container-before="1" data-graph-type="pie" data-graph-datalabels-enabled="1">
                        <thead>
                            <tr>
                                <th>Keyword</th>
                                <th>Count</th>
                            </tr>
                        </thead>
                        <tbody>

                        <c:forEach var="content2" items="#{Application.countries}"> 
                            <tr>
                                <td>#{content2.key}</td>
                                <td data-graph-name="#{content2.key}">#{content2.value}</td>
                            </tr>
                        </c:forEach> 

                        </tbody>
                    </table>
                </c:if>




                <h2>Organizations</h2>
                <c:if test="#{Application.organizations.size() > 0}">
                    <table class="graph table table-striped" data-graph-container-before="1" data-graph-type="pie" data-graph-datalabels-enabled="1">
                        <thead>
                            <tr>
                                <th>Keyword</th>
                                <th>Count</th>
                            </tr>
                        </thead>
                        <tbody>

                        <c:forEach var="content3" items="#{Application.organizations}"> 
                            <tr>
                                <td>#{content3.key}</td>
                                <td data-graph-name="#{content3.key}">#{content3.value}</td>
                            </tr>
                        </c:forEach> 

                        </tbody>
                    </table>
                </c:if>




                <h2>Cities</h2>

                <c:if test="#{Application.cities.size() > 0}">
                    <table class="graph  table table-striped" data-graph-container-before="1" data-graph-type="pie" data-graph-datalabels-enabled="1">
                        <thead>
                            <tr>
                                <th>Keyword</th>
                                <th>Count</th>
                            </tr>
                        </thead>
                        <tbody>

                        <c:forEach var="content4" items="#{Application.cities}"> 
                            <tr>
                                <td>#{content4.key}</td>
                                <td data-graph-name="#{content4.key}">#{content4.value}</td>
                            </tr>
                        </c:forEach> 

                        </tbody>
                    </table>
                </c:if>

                <h2>People</h2>

                <c:if test="#{Application.people.size() > 0}">
                    <table class="graph table table-striped" data-graph-container-before="1" data-graph-type="pie" data-graph-datalabels-enabled="1">
                        <thead>
                            <tr>
                                <th>Keyword</th>
                                <th>Count</th>
                            </tr>
                        </thead>
                        <tbody>

                        <c:forEach var="content5" items="#{Application.people}"> 
                            <tr>
                                <td>#{content5.key}</td>
                                <td data-graph-name="#{content5.key}">#{content5.value}</td>
                            </tr>
                        </c:forEach> 

                        </tbody>
                    </table>
                </c:if>



            </div>


            <script>
                $(document).ready(function() {
                    $('table.graph').highchartTable();
                });
            </script>

        </h:body>
    </f:view>

</html>

